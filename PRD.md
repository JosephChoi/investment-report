# 자문수수료 연체정보 확인 서비스 PRD

## 1. 개요

### 1.1 프로젝트 소개
본 프로젝트는 고객이 자신의 자문수수료 연체 정보를 쉽게 확인할 수 있는 웹 애플리케이션입니다. 고객은 이름과 전화번호를 입력하여 자신의 계좌 정보와 연체 상태를 확인할 수 있습니다.

### 1.2 목적
- 고객이 자신의 자문수수료 연체 정보를 간편하게 확인할 수 있는 플랫폼 제공
- 연체 정보의 투명한 공개를 통한 고객 신뢰도 향상
- 연체 관리 프로세스의 디지털화 및 효율화

### 1.3 대상 사용자
- 자문수수료 납부 고객
- 연체 정보 확인이 필요한 고객
- 계좌 정보 확인이 필요한 고객

## 2. 기능 요구사항

### 2.1 로그인 기능
- 이름과 전화번호를 통한 인증 시스템
- 다양한 오류 상황에 대한 명확한 피드백 제공
  - 데이터 없음: "입력하신 정보로 등록된 연체정보가 없습니다."
  - 이름 불일치: "이름이 일치하지 않습니다. 정확한 이름을 입력해주세요."
  - 전화번호 불일치: "전화번호가 일치하지 않습니다. 정확한 전화번호를 입력해주세요."
- 전화번호 입력 가이드라인 제공 (하이픈 없이 숫자만 입력 가능)

### 2.2 대시보드 기능
- 로그인 성공 시 사용자의 계좌 정보 표시
- 다음 정보 표시:
  - 계좌번호
  - 대표MP명
  - 계약일
  - 전일잔고
  - 미납금액
  - 연체 상태
- 복수 계좌 보유 시 모든 계좌 정보 표시
- 연체 상태에 따른 시각적 피드백 (색상 구분)

### 2.3 데이터 관리
- 구글 시트를 통한 데이터 관리
- 실시간 데이터 조회 및 업데이트
- 데이터 보안 및 개인정보 보호

## 3. 기술 스택

### 3.1 프론트엔드
- Next.js (React 프레임워크)
- TypeScript
- Tailwind CSS (UI 스타일링)
- Shadcn UI (컴포넌트 라이브러리)
- Framer Motion (애니메이션)
- React Hook Form (폼 관리)
- Zod (데이터 유효성 검증)
- Sonner (토스트 알림)

### 3.2 백엔드
- Next.js API Routes
- NextAuth.js (인증 시스템)
- Google Sheets API (데이터 저장소)

### 3.3 배포
- Vercel (웹 호스팅)
- GitHub (소스 코드 관리)

## 4. 사용자 경험 (UX)

### 4.1 로그인 페이지
- 간결하고 직관적인 UI
- 명확한 입력 가이드라인
- 오류 메시지의 친절한 표현
- 로딩 상태 표시

### 4.2 대시보드 페이지
- 계좌 정보의 카드 형태 표시
- 연체 상태에 따른 색상 구분
- 복수 계좌 정보의 명확한 구분
- 나가기 버튼을 통한 쉬운 로그아웃

## 5. 데이터 구조

### 5.1 구글 시트 구조
- 시트1: 주요 데이터 시트
- 열 구조:
  - 계좌명: 고객 이름
  - 계약일: 계약 체결 날짜
  - 대표MP명: 상품 이름
  - 계좌번호: 고객 계좌 번호
  - 수수료출금계좌: 수수료 출금 계좌 번호
  - 전일잔고: 전일 기준 계좌 잔고
  - 자문수수료계: 총 자문수수료
  - 납입액: 납입한 금액
  - 미납금액: 미납된 금액
  - 유치자: 담당자 이름
  - 연락처: 고객 전화번호
  - 연체: 연체 상태 정보

### 5.2 API 구조
- `/api/auth/[...nextauth]`: 인증 관련 API
- `/api/check-phone`: 전화번호 확인 API
- `/api/check-name`: 이름 확인 API

## 6. 보안 및 개인정보

### 6.1 인증 보안
- JWT 기반 인증 시스템
- 세션 관리 및 만료 설정 (30일)
- 사용자 데이터 암호화 저장

### 6.2 데이터 접근 제어
- Google 서비스 계정을 통한 API 접근 제어
- 읽기 전용 권한 설정
- 환경 변수를 통한 API 키 관리

## 7. 유지보수 및 확장성

### 7.1 데이터 업데이트
- 구글 시트 데이터 실시간 반영
- 매월 연체 정보 업데이트 가능
- 시트 구조 유지 시 정상 작동

### 7.2 확장 가능성
- 추가 기능 구현 용이
- 다양한 데이터 시각화 추가 가능
- 관리자 페이지 추가 가능

## 8. 프로젝트 구조

```
unpaid/
├── app/                          # Next.js 앱 디렉토리
│   ├── api/                      # API 라우트
│   │   ├── auth/                 # 인증 관련 API
│   │   │   └── [...nextauth]/    # NextAuth 설정
│   │   ├── check-name/           # 이름 확인 API
│   │   └── check-phone/          # 전화번호 확인 API
│   ├── dashboard/                # 대시보드 페이지
│   │   └── page.tsx              # 대시보드 컴포넌트
│   ├── login/                    # 로그인 페이지
│   │   └── page.tsx              # 로그인 컴포넌트
│   ├── layout.tsx                # 앱 레이아웃
│   └── page.tsx                  # 메인 페이지
├── components/                   # UI 컴포넌트
│   ├── ui/                       # 기본 UI 컴포넌트
│   │   ├── alert.tsx             # 알림 컴포넌트
│   │   ├── button.tsx            # 버튼 컴포넌트
│   │   ├── card.tsx              # 카드 컴포넌트
│   │   ├── form.tsx              # 폼 컴포넌트
│   │   └── input.tsx             # 입력 컴포넌트
│   └── [기타 컴포넌트]
├── lib/                          # 유틸리티 함수
│   ├── google-sheets.ts          # 구글 시트 API 연동
│   └── utils.ts                  # 일반 유틸리티 함수
├── public/                       # 정적 파일
├── .env                          # 환경 변수
├── .env.local                    # 로컬 환경 변수
├── next.config.js                # Next.js 설정
├── package.json                  # 패키지 정보
├── tailwind.config.js            # Tailwind CSS 설정
└── tsconfig.json                 # TypeScript 설정
```

## 9. 결론

본 프로젝트는 고객이 자신의 자문수수료 연체 정보를 쉽게 확인할 수 있는 웹 애플리케이션입니다. Next.js와 Google Sheets API를 활용하여 개발되었으며, 사용자 친화적인 UI와 명확한 오류 처리를 통해 좋은 사용자 경험을 제공합니다.

구글 시트를 데이터 저장소로 활용함으로써 데이터 관리의 편의성을 높였으며, 실시간 데이터 조회를 통해 항상 최신 정보를 제공합니다. 또한, 보안 및 개인정보 보호를 위한 다양한 조치를 적용하여 안전한 서비스를 제공합니다.

향후 추가 기능 개발 및 확장을 통해 더욱 다양한 서비스를 제공할 수 있는 기반을 마련하였습니다.
